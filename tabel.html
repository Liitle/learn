<!DOCTYPE html>
<html>
<head>
	<title></title>
</head>
<body>

<style>
table {
    
    text-align: center;
    width: 50%;
    margin: auto;
    
}

td {
    height: 50px;
    vertical-align: bottom;
}
</style>


<script>

    function shuffle(array) {

        var tmp, current, top = array.length;
        
        top -= 1;

        while(top > 0) {

            current = Math.floor(Math.random() * (top + 1));
            tmp = array[current];
            array[current] = array[top];
            array[top] = tmp;
            top -= 1;

        }
    

         
        return array;
    }

    function interChange(i){

        var temp;
        var cell = document.getElementById(i); 
        var left = document.getElementById(i - 1); 
        var right = document.getElementById(i + 1);
        var top = document.getElementById(i - 4);
        var bottom = document.getElementById(i + 4);

            //nu mere bottom si right 

       /*ry {

            if(left.firstChild.data == 0){
                temp = left.firstChild.data;
                left.firstChild.data = cell.firstChild.data;
                cell.firstChild.data = temp;

            }
        }

        
        catch (err){

        }

        */

        try {

            if(right.firstChild.data == 0){
                temp = right.firstChild.data;
                right.firstChild.data = cell.firstChild.data;
                cell.firstChild.data = temp;

            }
        }

        catch (err){

        }
/*
        try {

            if(top.firstChild.data == 0){
                temp = top.firstChild.data;
                top.firstChild.data = cell.firstChild.data;
                cell.firstChild.data = temp;

            }
        }

        catch (err){

        } 

        try{

            if(bottom.firstChild.data == 0){
                temp = bottom.firstChild.data;
                bottom.firstChild.data = cell.firstChild.data;
                cell.firstChild.data = temp;

            }
        }

        catch (err){

        }
*/
        
    }


    function puzzleGame(){
        var tbl = document.getElementById('table');

       
        // de aci in jos numa prostii in functia asta 

        var cell0 = document.getElementById(0);
        var cell1 = document.getElementById(1);
        var cell2 = document.getElementById(2);
        var cell3 = document.getElementById(3);
        var cell4 = document.getElementById(4);
        var cell5 = document.getElementById(5);
        var cell6 = document.getElementById(6);
        var cell7 = document.getElementById(7);
        var cell8 = document.getElementById(8);
        var cell9 = document.getElementById(9);
        var cell10 = document.getElementById(10);
        var cell11 = document.getElementById(11);
        var cell12 = document.getElementById(12);
        var cell13 = document.getElementById(13);
        var cell14 = document.getElementById(14);
        var cell15 = document.getElementById(15);

        cell0.onclick = function () { interChange(cell0.id);}

        cell1.onclick = function () { interChange(cell1.id);}

        cell2.onclick = function () { interChange(cell2.id);}

        cell3.onclick = function () { interChange(cell3.id);}

        cell4.onclick = function () { interChange(cell4.id);}

        cell5.onclick = function () { interChange(cell5.id);}

        cell6.onclick = function () { interChange(cell6.id);}

        cell7.onclick = function () { interChange(cell7.id);}

        cell8.onclick = function () { interChange(cell8.id);}

        cell9.onclick = function () { interChange(cell9.id);}

        cell10.onclick = function () { interChange(cell10.id);}

        cell11.onclick = function () { interChange(cell11.id);}

        cell12.onclick = function () { interChange(cell12.id);}

        cell13.onclick = function () { interChange(cell13.id);}

        cell14.onclick = function () { interChange(cell14.id);}

        cell15.onclick = function () { interChange(cell15.id);}
           
    }

	function tableCreate(){
    
        var body = document.body,
            tbl  = document.createElement('table');
        tbl.id = 'table';

        var cell_values = shuffle([0,1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15]);
        var c = 0;

        for(var i = 0; i < 4; i++){

            var tr = tbl.insertRow();

        for(var j = 0; j < 4; j++){

            var td = tr.insertCell();           
            td.appendChild(document.createTextNode(cell_values[c]));
            td.id = c;
            c += 1         	    
            
        }
    }
    body.appendChild(tbl);
}
tableCreate();
puzzleGame();
//interChange(3);


</script>

</body>
</html>